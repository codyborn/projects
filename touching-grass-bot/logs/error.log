{"level":"error","message":"Error incrementing user points: User with ID 99999 not found","service":"touching-grass-bot","stack":"Error: User with ID 99999 not found\n    at UserService.incrementUserPoints (/Users/cody.born/repos/projects/touching-grass-bot/src/services/userService.js:55:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/cody.born/repos/projects/touching-grass-bot/tests/unit/userService.test.js:119:7)","timestamp":"2025-10-28T12:03:24.225Z"}
{"error":"trigger \"update_users_updated_at\" for relation \"users\" already exists","level":"error","message":"Database query error:","service":"touching-grass-bot","text":"-- Create users table\nCREATE TABLE IF NOT EXISTS users (\n  id SERIAL PRIMARY KEY,\n  slack_user_id VARCHAR(50) UNIQUE NOT NULL,\n  slack_username VARCHAR(100) NOT NULL,\n  display_name VARCHAR(100),\n  total_points INTEGER DEFAULT 0,\n  total_photos INTEGER DEFAULT 0,\n  created_at TIMESTAMP DEFAULT NOW(),\n  updated_at TIMESTAMP DEFAULT NOW()\n);\n\n-- Create photos table\nCREATE TABLE IF NOT EXISTS photos (\n  id SERIAL PRIMARY KEY,\n  user_id INTEGER REFERENCES users(id) ON DELETE CASCADE,\n  slack_message_ts VARCHAR(50) NOT NULL,\n  slack_channel_id VARCHAR(50) NOT NULL,\n  image_url TEXT,\n  points_awarded INTEGER DEFAULT 1,\n  created_at TIMESTAMP DEFAULT NOW()\n);\n\n-- Create indexes for better performance\nCREATE INDEX IF NOT EXISTS idx_users_slack_user_id ON users(slack_user_id);\nCREATE INDEX IF NOT EXISTS idx_users_total_points ON users(total_points DESC);\nCREATE INDEX IF NOT EXISTS idx_photos_user_id ON photos(user_id);\nCREATE INDEX IF NOT EXISTS idx_photos_created_at ON photos(created_at);\nCREATE INDEX IF NOT EXISTS idx_photos_slack_message_ts ON photos(slack_message_ts);\n\n-- Create updated_at trigger for users table\nCREATE OR REPLACE FUNCTION update_updated_at_column()\nRETURNS TRIGGER AS $$\nBEGIN\n    NEW.updated_at = NOW();\n    RETURN NEW;\nEND;\n$$ language 'plpgsql';\n\nCREATE TRIGGER update_users_updated_at \n    BEFORE UPDATE ON users \n    FOR EACH ROW \n    EXECUTE FUNCTION update_updated_at_column();\n","timestamp":"2025-10-28T12:04:56.014Z"}
{"level":"error","message":"Error incrementing user points: User with ID 99999 not found","service":"touching-grass-bot","stack":"Error: User with ID 99999 not found\n    at UserService.incrementUserPoints (/Users/cody.born/repos/projects/touching-grass-bot/src/services/userService.js:55:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/cody.born/repos/projects/touching-grass-bot/tests/unit/userService.test.js:119:7)","timestamp":"2025-10-28T12:05:15.221Z"}
{"level":"error","message":"Error incrementing user points: User with ID 99999 not found","service":"touching-grass-bot","stack":"Error: User with ID 99999 not found\n    at UserService.incrementUserPoints (/Users/cody.born/repos/projects/touching-grass-bot/src/services/userService.js:55:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/cody.born/repos/projects/touching-grass-bot/tests/unit/userService.test.js:119:7)","timestamp":"2025-10-28T12:05:35.251Z"}
{"level":"error","message":"Error incrementing user points: User with ID 99999 not found","service":"touching-grass-bot","stack":"Error: User with ID 99999 not found\n    at UserService.incrementUserPoints (/Users/cody.born/repos/projects/touching-grass-bot/src/services/userService.js:55:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/cody.born/repos/projects/touching-grass-bot/tests/unit/userService.test.js:119:7)","timestamp":"2025-10-28T22:35:31.414Z"}
